# MCP Format Fix Required - Empty Object Structures

## Issue Identified

The MCP-generated terrain files fail to open in Gaea2 because several required objects are generated with only `$id` references instead of proper object structures.

## Root Cause

The MCP server is creating incomplete object structures for:

### 1. Groups Object
**Current (Incorrect):**
```json
"Groups": {
  "$id": "52"
}
```

**Required:**
```json
"Groups": {
  "$id": "52",
  "$values": []
}
```

### 2. Notes Object
**Current (Incorrect):**
```json
"Notes": {
  "$id": "53"
}
```

**Required:**
```json
"Notes": {
  "$id": "53",
  "$values": []
}
```

### 3. Camera Object
**Current (Incorrect):**
```json
"Camera": {
  "$id": "66"
}
```

**Required:**
```json
"Camera": {
  "$id": "66",
  "Position": {"X": 0.0, "Y": 0.0, "Z": 1000.0},
  "Rotation": {"Pitch": 45.0, "Yaw": 0.0, "Roll": 0.0},
  "Distance": 1000.0
}
```

### 4. Erosion2 Node Properties (Potential Issue)
Some Erosion2 nodes might be missing shape properties:
- Shape (default: 0.5)
- ShapeSharpness (default: 0.5)
- ShapeDetailScale (default: 0.5)

## Why This Matters

Gaea2 expects these objects to have proper structure even when empty:
- Empty collections (`Groups`, `Notes`) must have `$values` arrays
- Objects like `Camera` must have their properties, not just an ID
- The `Variables` object format (`{"$id": "59"}`) might actually be correct

## Fix Implementation

The MCP server code needs to be updated to ensure:

1. **Collection objects** always include `$values`:
   ```python
   "Groups": {"$id": str(id_counter), "$values": []}
   "Notes": {"$id": str(id_counter), "$values": []}
   ```

2. **Camera object** includes required properties:
   ```python
   "Camera": {
       "$id": str(id_counter),
       "Position": {"X": 0.0, "Y": 0.0, "Z": 1000.0},
       "Rotation": {"Pitch": 45.0, "Yaw": 0.0, "Roll": 0.0},
       "Distance": 1000.0
   }
   ```

3. **Regions** already has correct format: `{"$id": "62", "$values": []}`

## Verification

After fixing these issues, the terrain files should:
1. Open successfully in Gaea2 editor
2. Be editable and saveable
3. Build properly after being saved from the editor

## Impact

This is likely affecting ALL terrain files generated by the MCP server, not just simple ones. The fix should be applied globally to the terrain generation code.

## Testing

To verify the fix:
1. Generate a terrain with corrected format
2. Attempt to open in Gaea2
3. If successful, save from Gaea2
4. Build the saved file

The issue is not with the node structure or connections, but with these auxiliary objects that Gaea2 requires to have proper format even when empty.
