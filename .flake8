[flake8]
# E203 whitespace before ':' - conflicts with Black's formatting for slices
# W503 line break before binary operator - conflicts with Black
# C901 function complexity - we'll handle with pylint instead
ignore = E203,W503,C901
max-line-length = 127
exclude = .git,__pycache__,docs/,old,build,dist,.venv,venv
max-complexity = 15
# Ignore E501 (line too long) for dataset_builder.py - code examples are intentionally long
# Ignore F541: f-string without placeholders.
# This is intentionally disabled for specific scripts that use f-strings with literal '%'
# characters (e.g., f"Accuracy: 95%"). This avoids logging format ambiguity and is
# more readable than escaping percents (e.g., "Accuracy: 95%%").
per-file-ignores =
    packages/sleeper_detection/training/dataset_builder.py:E501
    packages/sleeper_detection/scripts/validation/validate_detection.py:F541
    packages/sleeper_detection/scripts/training/safety_training.py:F541
    packages/sleeper_detection/scripts/training/train_backdoor.py:F541
    packages/sleeper_detection/scripts/evaluation/backdoor_validation.py:F541
