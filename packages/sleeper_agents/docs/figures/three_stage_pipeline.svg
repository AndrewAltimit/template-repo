<svg width="600" height="200" viewBox="0 0 600 200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .stage-box { fill: #3C6382; stroke: #3C6382; stroke-width: 1; }
      .stage-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: white; text-anchor: middle; }
      .sub-text { font-family: Arial, sans-serif; font-size: 12px; fill: white; text-anchor: middle; }
      .arrow { stroke: #3C6382; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .warning-box { fill: #e74c3c; stroke: #e74c3c; stroke-width: 1; }
      .warning-text { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: white; text-anchor: middle; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3C6382" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
  </defs>

  <!-- Stage 1: Baseline Evaluation -->
  <rect x="50" y="20" width="150" height="70" rx="8" ry="8" class="stage-box" />
  <circle cx="125" cy="40" r="10" stroke="white" stroke-width="2" fill="none" />
  <line x1="132" y1="47" x2="145" y2="60" stroke="white" stroke-width="2" />
  <text x="125" y="70" class="stage-text">Baseline Evaluation</text>
  <text x="125" y="85" class="sub-text">Test Clean Model</text>

  <!-- Arrow 1-2 -->
  <line x1="200" y1="55" x2="250" y2="55" class="arrow" />

  <!-- Stage 2: Safety Training -->
  <rect x="250" y="20" width="150" height="70" rx="8" ry="8" class="stage-box" />
  <path d="M325 30 L340 50 L325 70 L310 50 Z" fill="white" stroke="white" stroke-width="1"/>
  <text x="325" y="70" class="stage-text">Safety Training</text>
  <text x="325" y="85" class="sub-text">Apply RLHF/SFT</text>

  <!-- Arrow 2-3 -->
  <line x1="400" y1="55" x2="450" y2="55" class="arrow" />

  <!-- Stage 3: Post-Training -->
  <rect x="450" y="20" width="150" height="70" rx="8" ry="8" class="stage-box" />
  <path d="M525 30 L540 60 L510 60 Z" fill="white" stroke="white" stroke-width="1"/>
  <text x="525" y="55" font-family="Arial, sans-serif" font-size="12px" font-weight="bold" fill="#e74c3c" text-anchor="middle">!</text>
  <text x="525" y="70" class="stage-text">Post-Training</text>
  <text x="525" y="85" class="sub-text">Test Again</text>

  <!-- Arrow to Warning Box -->
  <line x1="325" y1="100" x2="325" y2="130" stroke="#e74c3c" stroke-width="2" fill="none" marker-end="url(#arrowhead-red)" />

  <!-- Warning Box -->
  <rect x="175" y="130" width="300" height="40" rx="5" ry="5" class="warning-box" />
  <text x="325" y="155" class="warning-text">Persistent Backdoors = HIGH RISK</text>
</svg>
